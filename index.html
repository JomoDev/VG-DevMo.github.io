<!DOCTYPE html>
<html lang="de">

  <head>
    <script type="text/javascript">
      console.log("%c         ____   ____  ________\n         \\   \\ /   / /   _____/\n  ______  \\   Y   / /   \\  ___   ______\n /_____/   \\     /  \\    \\_\\  \\ /_____/\n            \\___/    \\______  /\n                            \\/          " + "\n www.veteran-gaming.at made by GameMind", 'color: #4286f4; font-weight: 900');
    </script>
    <meta charset="utf-8"/>
    <title>VG-Montagsmaler</title>
  </head>

  <body>
    <div>
      <canvas id="canvas" width="900" height="550"></canvas>
    </div>
    <div>
      <input id="size" type="range" min="1" max="40" value="25"/>
      <input id="color" type="color" value="#000000"/>
    </div>
    <style>

      canvas#canvas {
        border-radius: 2px;
        border: 2px;
        border-style: solid;
        border-color: darkgray;
      }

    </style>

    <script>

      (function () {
        var controlDown = false;
        var el = document.getElementById('canvas');
        var ctx = el.getContext('2d');
        ctx.fillStyle = "#ffffff";
        ctx.fillRect(0,0, ctx.width, ctx.height);
        var isDrawing;

        document.onkeydown = function(event) {
          if (event.key == "Control") {
            controlDown = true;
          }
          if (event.key == "z" || event.key == "Z") {
            if (controlDown) {
              console.log("restore");
              ctx.restore();
            }
          }
        }

        document.onkeyup = function(event) {
          if (event.key == "Control") {
            controlDown = false;
          }
        }

        el.onmousedown = function(e) {
          isDrawing = true;

          ctx.lineWidth = document.getElementById('size').value;
          ctx.strokeStyle = document.getElementById('color').value;
          ctx.lineJoin = ctx.lineCap = 'round';
          ctx.shadowBlur = 1;
          ctx.moveTo(e.clientX, e.clientY);
        };

        el.onmousemove = function(e) {
          if (isDrawing) {
            ctx.lineTo(e.clientX, e.clientY);
            ctx.stroke();
          }
        };

        el.onmouseup = function() {
          isDrawing = false;


        };

      })();
    </script>
  </body>

</html>
